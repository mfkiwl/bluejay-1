#===============================================
# Project Directories 
#===============================================
BLUEJAY := /home/seankent/bluejay
TOOLS := $(BLUEJAY)/tools

#===============================================
# Setting
#===============================================
OUT_DIR = gen

#===============================================
# Sources/Targets 
#===============================================
B_FILES := $(wildcard *.b)
SV_FILES := $(B_FILES:.b=.sv) 
TARGETS := $(addprefix $(OUT_DIR)/, $(SV_FILES))

#===============================================
# Rules
#===============================================
#===============================
# all
#===============================
all: $(TARGETS)

#===============================
# $(TARGETS) 
#===============================
$(TARGETS): $(OUT_DIR)/%.sv : %.b
	mkdir -p $(OUT_DIR)
	python3 $(TOOLS)/bluejay.py $< $@

#===============================
# clean 
#===============================
.PHONY: clean
clean:
	rm -rf $(OUT_DIR)
